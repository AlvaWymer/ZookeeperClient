<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.mldn.travel.dao.IEmpDAO">
	<!--2.1 职员增加前的id查询操作  -->
	<select id="findById" parameterType="string" resultType="Emp">
		SELECT eid,lid,did,ename,sal,phone,password,photo,note,hiredate,ineid,locked
		FROM emp WHERE eid=#{eid}	
	</select>
	<!--1.4更新员工等级  -->
	<update id="doUpdateLevel" parameterType="Emp"> 
		UPDATE emp SET lid=#{lid},ineid=#{ineid} WHERE eid=#{eid}
	</update>
	<!--2.1 职员增加  -->
	<!-- 实现增加的SQL语句，paraemterType表示参数类型 -->
	<!-- 此时的参数类型如果要想起作用，那么必须在mybatis.cfg.xml文件中配置一个别名 -->
	<!--   keyProperty 表示 数据库中要进行自动增长的主键  返回的类的属性的名字 -->
	<!-- useGeneratedKeys 指的是 -->
	<!-- 注意：    这里面的id 必须要和 INewsDAO 里面的方法的名字一致   这样才能够找到对应的方法，实现面向接口编程 -->
	<insert id="doCreate" parameterType="Emp"  >
		INSERT INTO emp(eid,lid,did,ename,sal,phone,password,photo,note,hiredate,ineid,locked) 
		VALUES (#{eid},#{lid},#{did},#{ename},#{sal},#{phone},#{password},#{photo},#{note},#{hiredate},#{ineid},#{locked}) ;
	</insert>
	
</mapper>